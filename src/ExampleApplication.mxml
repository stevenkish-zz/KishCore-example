<kish:Application 	
	xmlns:kish="library://www.unstukt.com/kishcore"
	xmlns:mx="library://ns.adobe.com/flex/mx" 
	xmlns:fx="http://ns.adobe.com/mxml/2009" 
	>
	
	<fx:Metadata>
		[SWF(backgroundColor="#FFFFFF", frameRate="40", width="320", height="480")]
	</fx:Metadata>
	
	<fx:Script>
		<![CDATA[
			import kish.util.ClassUtil;

			import com.client.project.application.ExampleApplicationController;
			import com.client.project.section.SectionController;
			import com.client.project.video.VideoController;
			import com.greensock.TweenLite;
			import com.greensock.easing.Strong;

			import org.osflash.signals.Signal;
			
			ClassUtil.register(SectionController);
			ClassUtil.register(VideoController);
			
			// embed css
			[Embed(source="/assets/css/flash.css", mimeType="application/octet-stream")]
			private const FlashCSS:Class;

			// embed fonts embedAsCFF="false"
			[Embed(source='/assets/ttf/Arial.ttf', mimeType="application/x-font", fontName='_Arial', embedAsCFF="false", unicodeRange='U+0020-U+002F,U+0030-U+0039,U+003A-U+0040,U+0041-U+005A,U+005B-U+0060,U+0061-U+007A,U+007B-U+007E')]
			public var _Arial:Class;

			[Controller]
			/*
			 * Although, typically with KishCore, a subclass of AbstractViewController is responsible for instantiating it's own view,
			 * here, the view is created firstly as the main swf and then subsequently declares it's controller
			 * if no controller is specified, a default instance of ApplicationController will be used
			 */
			public var applicationController:ExampleApplicationController;
			
			public var goHomeSignal:Signal = new Signal();
			
			/**
			 * 
			 */
			override public function start():void
			{
				trace("ExampleApplication::start()" );
				initTweenLite();
				super.start();
			}
	
			/**
			 *
			 */  
			override protected function parseStyleSheet( StyleClass:Class=null ):void
			{
				super.parseStyleSheet( FlashCSS );
			}

			/**
			 * 
			 */  
			private function initTweenLite():void
			{
				//properties set here are permanent in the SWF, so this line only needs to be run once.
				TweenLite.defaultEase = Strong.easeOut;
				/*
				TweenPlugin.activate([BlurFilterPlugin]);
				TweenPlugin.activate([ColorMatrixFilterPlugin]);
				TweenPlugin.activate([TintPlugin]);
				TweenPlugin.activate([BezierPlugin]);
				TweenPlugin.activate([VisiblePlugin]);
				TweenPlugin.activate([GlowFilterPlugin]);
				*/
			}
			
			/**
			 * 
			 */
			private function onLink( e:TextEvent ):void
			{
				goHomeSignal.dispatch();
			}
		]]>
	</fx:Script>
	
	<kish:KText
		y="25" 
		tags="p,a@href=event:" 
		text="HOME" 
		link="onLink(event)"/>
	
	<kish:KText 
		y="40" 
		tags="p,a@href=https://github.com/stevenkish/kishcore-example@target=_blank" 
		text="KishCore on Github"/>
		
</kish:Application>